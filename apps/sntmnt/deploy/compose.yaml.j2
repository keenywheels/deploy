services:
  {{ app.name }}:
    image: {{ app.image.name }}:{{ app.image.tag }}
    container_name: {{ app.name }}
    restart: always
    cpus: 2
    mem_limit: 512m
    ports:
      - '{{ app.port }}:{{ app.port }}'
    command: python main.py
    networks:
      - {{ app.name }}-net

networks:
  {{ app.name }}-net:
    external: true
